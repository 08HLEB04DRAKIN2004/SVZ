<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Movie Search</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Movie Search</h1>
        <input type="text" id="search" placeholder="Search for a movie...">
        <span id="clear-search" class="clear-search">✕</span>
    </header>

    <main id="main">
        <!-- Movie cards will be dynamically added here -->
    </main>

    <footer>
        <p>© 2023 | Created by [Your Name]</p>
        <p>Powered by The Movie Database API</p>
    </footer>

    <script>
        const API_KEY = 'd3476595417e9eb00d3200fa664d203d';
const API_URL = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=`;

const main = document.getElementById('main');
const search = document.getElementById('search');
const clearSearch = document.getElementById('clear-search');

// Обработчик события для очистки поля ввода
clearSearch.addEventListener('click', () => {
    search.value = ''; // Очистить поле ввода
    main.innerHTML = ''; // Очистить результаты поиска
});


//запрашивает данные о фильмах с помощью API интерфеййса

async function getMovies(searchTerm) {
    const res = await fetch(API_URL + searchTerm);
    const data = await res.json();

    showMovies(data.results);
}

function showMovies(movies) {
    main.innerHTML = '';//Свойство получения и установление даннх

    movies.forEach(movie => {
        const { poster_path, title, vote_average, overview } = movie;

        const movieEl = document.createElement('div');
        movieEl.classList.add('card');

        movieEl.innerHTML = `
            <img src="https://image.tmdb.org/t/p/w500${poster_path}" alt="${title}">
            <h2>${title}</h2>
            <p>Rating: ${vote_average}</p>
            <p>${overview}</p>
        `;

        main.appendChild(movieEl);
    });
}

search.addEventListener('keyup', (e) => {
    if (e.key === 'Enter') {
        const searchTerm = e.target.value;

        getMovies(searchTerm);
        
        search.value = '';
        search.blur();
    }
});

getMovies(' ');

    </script>
</body>
</html>
